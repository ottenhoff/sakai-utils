<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_147-icedtea) on Thu Mar 08 14:25:23 EST 2012 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>StatsUpdateManager (Sakai base pom 2.10-SNAPSHOT API)</title>
<meta name="date" content="2012-03-08">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="StatsUpdateManager (Sakai base pom 2.10-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StatsUpdateManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/sakaiproject/sitestats/api/StatsManager.html" title="interface in org.sakaiproject.sitestats.api"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/sakaiproject/sitestats/api/SummaryActivityChartData.html" title="interface in org.sakaiproject.sitestats.api"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/sakaiproject/sitestats/api/StatsUpdateManager.html" target="_top">Frames</a></li>
<li><a href="StatsUpdateManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.sakaiproject.sitestats.api</div>
<h2 title="Interface StatsUpdateManager" class="title">Interface StatsUpdateManager</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../org/sakaiproject/sitestats/impl/StatsUpdateManagerImpl.html" title="class in org.sakaiproject.sitestats.impl">StatsUpdateManagerImpl</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">StatsUpdateManager</span></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/sakaiproject/event/api/Event.html" title="interface in org.sakaiproject.event.api">Event</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#buildEvent(java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">buildEvent</a></strong>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;date,
          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;event,
          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;ref,
          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sessionUser,
          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sessionId)</code>
<div class="block">Construct a new Event object using specified arguments.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/sakaiproject/event/api/Event.html" title="interface in org.sakaiproject.event.api">Event</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#buildEvent(java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">buildEvent</a></strong>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;date,
          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;event,
          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;ref,
          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;context,
          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sessionUser,
          <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sessionId)</code>
<div class="block">Construct a new Event object using specified arguments.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#collectEvent(org.sakaiproject.event.api.Event)">collectEvent</a></strong>(<a href="../../../../org/sakaiproject/event/api/Event.html" title="interface in org.sakaiproject.event.api">Event</a>&nbsp;e)</code>
<div class="block">Collect (process) a Sakai event into SiteStats tables.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#collectEvents(org.sakaiproject.event.api.Event[])">collectEvents</a></strong>(<a href="../../../../org/sakaiproject/event/api/Event.html" title="interface in org.sakaiproject.event.api">Event</a>[]&nbsp;events)</code>
<div class="block">Collect (process) Sakai events into SiteStats tables.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#collectEvents(java.util.List)">collectEvents</a></strong>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/sakaiproject/event/api/Event.html" title="interface in org.sakaiproject.event.api">Event</a>&gt;&nbsp;events)</code>
<div class="block">Collect (process) Sakai events into SiteStats tables.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#collectPastSiteEvents(java.lang.String, java.util.Date, java.util.Date)">collectPastSiteEvents</a></strong>(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;siteId,
                     <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;initialDate,
                     <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;finalDate)</code>
<div class="block">Collect Sakai events from SAKAI_EVENTS table for a specific site, between specified dates.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getAverageTimeInEventProcessingPerEvent()">getAverageTimeInEventProcessingPerEvent</a></strong>()</code>
<div class="block">Get the average time spent, in milliseconds, for event processing per event</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getCollectThreadUpdateInterval()">getCollectThreadUpdateInterval</a></strong>()</code>
<div class="block">Get the collect thread sleep interval.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getEventDateFromLatestJobRun()">getEventDateFromLatestJobRun</a></strong>()</code>
<div class="block">Get date of last event processed by the last job run</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../org/sakaiproject/sitestats/api/JobRun.html" title="interface in org.sakaiproject.sitestats.api">JobRun</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getLatestJobRun()">getLatestJobRun</a></strong>()</code>
<div class="block">Get the latest job run</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getMetricsSummary(boolean)">getMetricsSummary</a></strong>(boolean&nbsp;compact)</code>
<div class="block">Get current metrics as string:
 
 number of total events processed so far;
 number of events processed per sec;
 average time in full event processing per event;
 </div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getNumberOfEventsGeneratedPerSec()">getNumberOfEventsGeneratedPerSec</a></strong>()</code>
<div class="block">Get the average number of events generated by Sakai per second</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getNumberOfEventsProcessed()">getNumberOfEventsProcessed</a></strong>()</code>
<div class="block">Get the total number of events processed</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getNumberOfEventsProcessedPerSec()">getNumberOfEventsProcessedPerSec</a></strong>()</code>
<div class="block">Get the average number of events processed per second</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getQueueSize()">getQueueSize</a></strong>()</code>
<div class="block">Returns the total number of events waiting on the queue to be processed</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getResetTime()">getResetTime</a></strong>()</code>
<div class="block">Get the time that occurred since start/last reset</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getTotalTimeEllapsedSinceReset()">getTotalTimeEllapsedSinceReset</a></strong>()</code>
<div class="block">Get the total time ellapsed, in milliseconds, since start</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#getTotalTimeInEventProcessing()">getTotalTimeInEventProcessing</a></strong>()</code>
<div class="block">Get the total time, in milliseconds, in event processing</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#isCollectAdminEvents()">isCollectAdminEvents</a></strong>()</code>
<div class="block">Collect administrator events</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#isCollectEventsForSiteWithToolOnly()">isCollectEventsForSiteWithToolOnly</a></strong>()</code>
<div class="block">Collect events ONLY for sites with SiteStats tool?</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#isCollectThreadEnabled()">isCollectThreadEnabled</a></strong>()</code>
<div class="block">Check whether collect thread is enabled.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#isIdle()">isIdle</a></strong>()</code>
<div class="block">Check if real-time thread has work to do</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#resetMetrics()">resetMetrics</a></strong>()</code>
<div class="block">Reset metrics: 
 
 number of total events processed;
 total time in event processing per event;
 total time elapsed since start/resetMetrics();
 number of events processed per sec;
 average time in event processing per event;
 </div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#saveJobRun(org.sakaiproject.sitestats.api.JobRun)">saveJobRun</a></strong>(<a href="../../../../org/sakaiproject/sitestats/api/JobRun.html" title="interface in org.sakaiproject.sitestats.api">JobRun</a>&nbsp;jobRun)</code>
<div class="block">Save a quartz job run</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#setCollectAdminEvents(boolean)">setCollectAdminEvents</a></strong>(boolean&nbsp;value)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#setCollectEventsForSiteWithToolOnly(boolean)">setCollectEventsForSiteWithToolOnly</a></strong>(boolean&nbsp;value)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#setCollectThreadEnabled(boolean)">setCollectThreadEnabled</a></strong>(boolean&nbsp;enabled)</code>
<div class="block">Enable/disable collect thread (collect sakai events in real time at a specified (small) time interval).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/sakaiproject/sitestats/api/StatsUpdateManager.html#setCollectThreadUpdateInterval(long)">setCollectThreadUpdateInterval</a></strong>(long&nbsp;dbUpdateInterval)</code>
<div class="block">Time interval at which the collect thread will run and process all the events in queue since the last run.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setCollectThreadEnabled(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCollectThreadEnabled</h4>
<pre>void&nbsp;setCollectThreadEnabled(boolean&nbsp;enabled)</pre>
<div class="block">Enable/disable collect thread (collect sakai events in real time at a specified (small) time interval).
 For medium-large installation (more than 8000-10000 users) it is recommended to use a quartz job instead of the collect thread.</div>
</li>
</ul>
<a name="isCollectThreadEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCollectThreadEnabled</h4>
<pre>boolean&nbsp;isCollectThreadEnabled()</pre>
<div class="block">Check whether collect thread is enabled.</div>
</li>
</ul>
<a name="setCollectThreadUpdateInterval(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCollectThreadUpdateInterval</h4>
<pre>void&nbsp;setCollectThreadUpdateInterval(long&nbsp;dbUpdateInterval)</pre>
<div class="block">Time interval at which the collect thread will run and process all the events in queue since the last run.
 Please notice that this value cannot be set to high due to memory consumption. For medium-large installation
 (more than 8000-10000 users) it is recommended to use a quartz job instead of the collect thread.</div>
</li>
</ul>
<a name="getCollectThreadUpdateInterval()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCollectThreadUpdateInterval</h4>
<pre>long&nbsp;getCollectThreadUpdateInterval()</pre>
<div class="block">Get the collect thread sleep interval.</div>
</li>
</ul>
<a name="isCollectAdminEvents()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCollectAdminEvents</h4>
<pre>boolean&nbsp;isCollectAdminEvents()</pre>
<div class="block">Collect administrator events</div>
</li>
</ul>
<a name="setCollectAdminEvents(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCollectAdminEvents</h4>
<pre>void&nbsp;setCollectAdminEvents(boolean&nbsp;value)</pre>
</li>
</ul>
<a name="isCollectEventsForSiteWithToolOnly()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isCollectEventsForSiteWithToolOnly</h4>
<pre>boolean&nbsp;isCollectEventsForSiteWithToolOnly()</pre>
<div class="block">Collect events ONLY for sites with SiteStats tool?</div>
</li>
</ul>
<a name="setCollectEventsForSiteWithToolOnly(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCollectEventsForSiteWithToolOnly</h4>
<pre>void&nbsp;setCollectEventsForSiteWithToolOnly(boolean&nbsp;value)</pre>
</li>
</ul>
<a name="collectEvent(org.sakaiproject.event.api.Event)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectEvent</h4>
<pre>boolean&nbsp;collectEvent(<a href="../../../../org/sakaiproject/event/api/Event.html" title="interface in org.sakaiproject.event.api">Event</a>&nbsp;e)</pre>
<div class="block">Collect (process) a Sakai event into SiteStats tables.
 This method is called by the default quartz job implementation and should be called for every other custom quartz
 job implemented to this task (collect events).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - An Event (can be built from sql fields using the CustomEventImpl class)</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if event was successfully processed and persisted.</dd></dl>
</li>
</ul>
<a name="collectEvents(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectEvents</h4>
<pre>boolean&nbsp;collectEvents(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/sakaiproject/event/api/Event.html" title="interface in org.sakaiproject.event.api">Event</a>&gt;&nbsp;events)</pre>
<div class="block">Collect (process) Sakai events into SiteStats tables.
 This method is called by the default quartz job implementation and should be called for every other custom quartz
 job implemented to this task (collect events).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - A List of Event (can be built from sql fields using the CustomEventImpl class)</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if events were successfully processed and persisted.</dd></dl>
</li>
</ul>
<a name="collectEvents(org.sakaiproject.event.api.Event[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectEvents</h4>
<pre>boolean&nbsp;collectEvents(<a href="../../../../org/sakaiproject/event/api/Event.html" title="interface in org.sakaiproject.event.api">Event</a>[]&nbsp;events)</pre>
<div class="block">Collect (process) Sakai events into SiteStats tables.
 This method is called by the default quartz job implementation and should be called for every other custom quartz
 job implemented to this task (collect events).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>e</code> - An array of Event (can be built from sql fields using the CustomEventImpl class)</dd>
<dt><span class="strong">Returns:</span></dt><dd>True if events were successfully processed and persisted.</dd></dl>
</li>
</ul>
<a name="collectPastSiteEvents(java.lang.String, java.util.Date, java.util.Date)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectPastSiteEvents</h4>
<pre>long&nbsp;collectPastSiteEvents(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;siteId,
                         <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;initialDate,
                         <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;finalDate)</pre>
<div class="block">Collect Sakai events from SAKAI_EVENTS table for a specific site, between specified dates.
 Useful to collect events not processed by SiteStats (occurs when tool is configured to process
 events from sites with the tool placed, and the tool was placed some time after site creation).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>siteId</code> - The site id</dd><dd><code>initialDate</code> - The initial date of events from SAKAI_EVENT</dd><dd><code>finalDate</code> - The final date of events from SAKAI_EVENT</dd>
<dt><span class="strong">Returns:</span></dt><dd>The number of processed events</dd></dl>
</li>
</ul>
<a name="buildEvent(java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildEvent</h4>
<pre><a href="../../../../org/sakaiproject/event/api/Event.html" title="interface in org.sakaiproject.event.api">Event</a>&nbsp;buildEvent(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;date,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;event,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;ref,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sessionUser,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sessionId)</pre>
<div class="block">Construct a new Event object using specified arguments. Useful for building Events read from SAKAI_EVENT and SAKAI_SESSION table.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>date</code> - The SAKAI_EVENT.EVENT_DATE field</dd><dd><code>event</code> - The SAKAI_EVENT.EVENT field</dd><dd><code>ref</code> - The SAKAI_EVENT.REF field</dd><dd><code>sessionUser</code> - The SAKAI_SESSION.SESSION_USER field</dd><dd><code>sessionId</code> - The SAKAI_SESSION.SESSION_ID field</dd>
<dt><span class="strong">Returns:</span></dt><dd>An Event object</dd></dl>
</li>
</ul>
<a name="buildEvent(java.util.Date, java.lang.String, java.lang.String, java.lang.String, java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>buildEvent</h4>
<pre><a href="../../../../org/sakaiproject/event/api/Event.html" title="interface in org.sakaiproject.event.api">Event</a>&nbsp;buildEvent(<a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;date,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;event,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;ref,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;context,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sessionUser,
               <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;sessionId)</pre>
<div class="block">Construct a new Event object using specified arguments. Useful for building Events read from SAKAI_EVENT and SAKAI_SESSION table.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>date</code> - The SAKAI_EVENT.EVENT_DATE field</dd><dd><code>event</code> - The SAKAI_EVENT.EVENT field</dd><dd><code>ref</code> - The SAKAI_EVENT.REF field</dd><dd><code>context</code> - The SAKAI_EVENT.CONTEXT field</dd><dd><code>sessionUser</code> - The SAKAI_SESSION.SESSION_USER field</dd><dd><code>sessionId</code> - The SAKAI_SESSION.SESSION_ID field</dd>
<dt><span class="strong">Returns:</span></dt><dd>An Event object</dd></dl>
</li>
</ul>
<a name="saveJobRun(org.sakaiproject.sitestats.api.JobRun)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveJobRun</h4>
<pre>boolean&nbsp;saveJobRun(<a href="../../../../org/sakaiproject/sitestats/api/JobRun.html" title="interface in org.sakaiproject.sitestats.api">JobRun</a>&nbsp;jobRun)</pre>
<div class="block">Save a quartz job run</div>
</li>
</ul>
<a name="getLatestJobRun()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLatestJobRun</h4>
<pre><a href="../../../../org/sakaiproject/sitestats/api/JobRun.html" title="interface in org.sakaiproject.sitestats.api">JobRun</a>&nbsp;getLatestJobRun()
                       throws <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Get the latest job run</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="getEventDateFromLatestJobRun()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEventDateFromLatestJobRun</h4>
<pre><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;getEventDateFromLatestJobRun()
                                  throws <a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Get date of last event processed by the last job run</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd></dl>
</li>
</ul>
<a name="getQueueSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getQueueSize</h4>
<pre>int&nbsp;getQueueSize()</pre>
<div class="block">Returns the total number of events waiting on the queue to be processed</div>
</li>
</ul>
<a name="isIdle()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isIdle</h4>
<pre>boolean&nbsp;isIdle()</pre>
<div class="block">Check if real-time thread has work to do</div>
</li>
</ul>
<a name="resetMetrics()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetMetrics</h4>
<pre>void&nbsp;resetMetrics()</pre>
<div class="block">Reset metrics: 
 <ul>
 <li>number of total events processed;</li>
 <li>total time in event processing per event;</li>
 <li>total time elapsed since start/resetMetrics();</li>
 <li>number of events processed per sec;</li>
 <li>average time in event processing per event;</li>
 </ul></div>
</li>
</ul>
<a name="getNumberOfEventsProcessed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfEventsProcessed</h4>
<pre>long&nbsp;getNumberOfEventsProcessed()</pre>
<div class="block">Get the total number of events processed</div>
</li>
</ul>
<a name="getTotalTimeInEventProcessing()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalTimeInEventProcessing</h4>
<pre>long&nbsp;getTotalTimeInEventProcessing()</pre>
<div class="block">Get the total time, in milliseconds, in event processing</div>
</li>
</ul>
<a name="getResetTime()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getResetTime</h4>
<pre>long&nbsp;getResetTime()</pre>
<div class="block">Get the time that occurred since start/last reset</div>
</li>
</ul>
<a name="getTotalTimeEllapsedSinceReset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalTimeEllapsedSinceReset</h4>
<pre>long&nbsp;getTotalTimeEllapsedSinceReset()</pre>
<div class="block">Get the total time ellapsed, in milliseconds, since start</div>
</li>
</ul>
<a name="getNumberOfEventsProcessedPerSec()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfEventsProcessedPerSec</h4>
<pre>double&nbsp;getNumberOfEventsProcessedPerSec()</pre>
<div class="block">Get the average number of events processed per second</div>
</li>
</ul>
<a name="getNumberOfEventsGeneratedPerSec()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumberOfEventsGeneratedPerSec</h4>
<pre>double&nbsp;getNumberOfEventsGeneratedPerSec()</pre>
<div class="block">Get the average number of events generated by Sakai per second</div>
</li>
</ul>
<a name="getAverageTimeInEventProcessingPerEvent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAverageTimeInEventProcessingPerEvent</h4>
<pre>long&nbsp;getAverageTimeInEventProcessingPerEvent()</pre>
<div class="block">Get the average time spent, in milliseconds, for event processing per event</div>
</li>
</ul>
<a name="getMetricsSummary(boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMetricsSummary</h4>
<pre><a href="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getMetricsSummary(boolean&nbsp;compact)</pre>
<div class="block">Get current metrics as string:
 <ul>
 <li>number of total events processed so far;</li>
 <li>number of events processed per sec;</li>
 <li>average time in full event processing per event;</li>
 </ul></div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StatsUpdateManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/sakaiproject/sitestats/api/StatsManager.html" title="interface in org.sakaiproject.sitestats.api"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/sakaiproject/sitestats/api/SummaryActivityChartData.html" title="interface in org.sakaiproject.sitestats.api"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/sakaiproject/sitestats/api/StatsUpdateManager.html" target="_top">Frames</a></li>
<li><a href="StatsUpdateManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2003-2012 <a href="http://www.sakaiproject.org/">The Sakai Foundation</a>. All Rights Reserved.</small></p>
</body>
</html>
